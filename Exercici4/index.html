<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sant Pere de Vallhonesta</title>
    <!-- Enllaços per a Video.js -->
    <link href="https://vjs.zencdn.net/7.10.2/video-js.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/7.10.2/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-360@1.0.0/dist/videojs-360.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Personalitzar el contenidor del vídeo per a que sigui 100% ampliat i responsiu */
        .video-container {
            position: relative;
            width: 100%;
            height: 500px; /* Ajusta l'alçada si cal */
        }
        #my-video {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Menú fix a la part superior -->
    <nav class="navbar">
        <ul>
            <li><a href="#fotos">Fotos</a></li>
            <li><a href="#historia">Història</a></li>
            <li><a href="#videos">Vídeos 3D</a></li>
            <li><a href="#com-arribar">Com Arribar-hi</a></li>
        </ul>
    </nav>

    <!-- Secció de Fotos -->
    <section id="fotos" class="section">
        <h2>Fotos</h2>
        <div class="photo-gallery">
            <div class="photo"><img src="imatges/foto1.jpg" alt="Foto 1"></div>
            <div class="photo"><img src="imatges/foto2.jpg" alt="Foto 2"></div>
            <div class="photo"><img src="imatges/foto3.jpg" alt="Foto 3"></div>
        </div>
    </section>

    <!-- Secció d'Història -->
    <section id="historia" class="section">
        <h2>Història</h2>
        <p>L'Ermita de Sant Pere de Vallhonesta, situada al municipi de Sant Vicenç de Castellet, és un destacat exemple d'arquitectura romànica amb una història que es remunta al segle XI...</p>
    </section>

    <!-- Secció de Vídeos 3D -->
    <section id="videos" class="section">
        <h2>Vídeos 3D</h2>
        <div class="video-container">
            <video id="my-video" class="video-js vjs-default-skin" controls>
                <source src="videos/Vallhonesta.mp4" type="video/mp4">
                El teu navegador no suporta l'etiqueta de vídeo.
            </video>
        </div>
    </section>

    <!-- Secció Com Arribar-hi -->
    <section id="com-arribar" class="section">
        <h2>Com Arribar-hi</h2>
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=EXEMPLE_MAPA" frameborder="0" allowfullscreen></iframe>
        </div>
    </section>

    <!-- Footer (buit de moment) -->
    <footer></footer>

    <script>
        // Esperar que el document estigui completament carregat
        document.addEventListener('DOMContentLoaded', function() {
            // Inicialitzar el vídeo amb el plugin 360
            var player = videojs('my-video', {
                autoplay: false,
                controls: true,
                preload: 'auto',
                responsive: true,  // Afegit per assegurar una mida adaptativa
                fluid: true,       // Afegit per adaptar l'amplada de manera automàtica
            });

            // Afegir el plugin 360 al reproductor
            player.ready(function() {
                try {
                    player.video360(); // Activa el mode 360º
                } catch (e) {
                    console.error("Error carregant el plugin 360:", e);
                }
            });

            // Comprovar si el plugin s'ha carregat correctament
            player.on('loadedmetadata', function() {
                if (player.video360) {
                    console.log("Plugin 360 activat correctament.");
                } else {
                    console.error("Plugin 360 no ha estat activat correctament.");
                }
            });
        });
    </script>
</body>
</html>
